{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/select/macro.njk" import govukSelect %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}

{% extends 'main_views/_layout.njk' %}
{% block header %}
{% endblock %}

{% block content %}
<div class="full-height">
{% if view_type and view_type=='view' %}
{{ govukBackLink({
  text: "Back",
  href: "#",
  classes:"backButton"
}) }}
{% endif %}
{% include "partials_views/pageTitle.njk" %}
{% include "partials_views/summaryTable.njk" %}

 <form action="{% if view_type != 'view' %}/createPayment{% else %}#{% endif %}" method="POST" id="paymentForm">
    <input name="inv_id" type="hidden" value="{{invoiceId}}" />
    {% if paymentId and paymentId!='' %}
      <input name="paymentId" type="hidden" value="{{paymentId}}" />
    {% endif %}
    {{ govukInput({
    label: {
      text: "FRN",
      classes: "govuk-label--s",
      isPageHeading: true
    },
    hint: {
    text: "FRN must be a 10-digit number or be empty"
    },
    id:"frn",
    name: "frn",
    value: frn,
    attributes: attributesitem
    }) 
    }}

    {{ govukInput({
     label: {
      text: "SBI",
      classes: "govuk-label--s",
      isPageHeading: true
    },
    name: "sbi",
    id: "sbi",
    value: sbi,
    hint: {
    text: "SBI is not in valid range (105000000 .. 999999999) or should be empty"
    },
    attributes: attributesitem
    }) 
    }}

    {{ govukInput({
     label: {
      text: "Vendor",
      classes: "govuk-label--s",
      isPageHeading: true
    },
    name: "vendor",
    id: "vendor",
    value: vendor,
    hint: {
    text: "Vendor must be longer than 3 characters"
    },
    attributes: attributesitem
    }) 
    }}
      
    {{ govukSelect({
     name: "currency",
     label: {
      text: 'Currency',
      classes: "govuk-label--s"
     },
    items: paymentType,
    classes:"full-width payment_inputs",
    disabled:disableditem
    }) 
    }}

    {{ govukInput({
     label: {
      text: "Description",
      classes: "govuk-label--s",
      isPageHeading: true
    },
    name: "description",
    value: description,
    classes:"payment_inputs",
    attributes: attributesitem
    }) 
    }}

    {{ govukInput({
     label: {
      text: "Claim Reference Number",
      classes: "govuk-label--s",
      isPageHeading: true
    },
    name: "claimreferencenumber",
    value: claimreferencenumber,
    classes:"payment_inputs",
    attributes: attributesitem
    }) 
    }}

    {{ govukInput({
     label: {
      text: "Claim Reference (ClaimRef)",
      classes: "govuk-label--s",
      isPageHeading: true
    },
    name: "claimreference",
    value: claimreference,
    classes:"payment_inputs",
    attributes: attributesitem
    }) 
    }}

    {% if view_type and view_type!='view' %}

    {% set errorMessage %}
    Fill All The Fields
    {% endset %}

    {% include "partials_views/errorBanner.njk" %}
    
    <div class="govuk-button-group">
     {{ govukButton({text: "Save and continue"}) }}
     <a class="govuk-link backButton" href="#">Cancel</a>
    </div>
   {% endif %}
    </form>

</div>
{% endblock %}

{% block footer %}
{% endblock %}